{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/video-list/video-list.component.ts","./src/app/components/video-list/video-list.component.html","./src/app/components/video-wrapper/video-wrapper.component.ts","./src/app/components/video-wrapper/video-wrapper.component.html","./src/app/directives/FocusDirective.ts","./src/app/directives/NavigableListDirective.ts","./src/app/directives/NavigableListItemDirective.ts","./src/app/entity-metadata.ts","./src/app/entity-store-module.ts","./src/app/services/channel.data-service.ts","./src/app/services/video.service.ts","./src/environments/environment.development.ts","./src/main.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  public title = 'video-player';\n}\n","<div class=\"container\">\n  <div class=\"video-app\">\n    <div class=\"video-player\">\n      <app-video-wrapper></app-video-wrapper>\n    </div>\n  </div>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { VideoWrapperComponent } from './components/video-wrapper/video-wrapper.component';\nimport { VideoListComponent } from './components/video-list/video-list.component';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatListModule } from '@angular/material/list';\nimport { EntityStoreModule } from \"./entity-store-module\";\nimport { EntityDataModule } from \"@ngrx/data\";\nimport { StoreModule } from '@ngrx/store';\nimport { entityConfig } from \"./entity-metadata\";\nimport { HttpClientModule } from \"@angular/common/http\";\nimport {NavigableListDirective} from \"./directives/NavigableListDirective\";\nimport {NavigableListItemDirective} from \"./directives/NavigableListItemDirective\";\nimport {A11yModule} from \"@angular/cdk/a11y\";\nimport {FocusDirective} from \"./directives/FocusDirective\";\nimport {ScrollingModule} from \"@angular/cdk/scrolling\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    VideoWrapperComponent,\n    VideoListComponent,\n    NavigableListDirective,\n    NavigableListItemDirective,\n    FocusDirective\n  ],\n    imports: [\n        HttpClientModule,\n        StoreModule.forRoot(),\n        EntityDataModule.forRoot(entityConfig),\n        BrowserModule,\n        MatProgressSpinnerModule,\n        MatListModule,\n        ScrollingModule,\n        EntityStoreModule,\n        A11yModule\n    ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import {\n  AfterContentInit, AfterViewInit,\n  Component, ElementRef, HostListener,\n  OnInit, ViewChild\n} from '@angular/core';\nimport {ChannelDataService} from \"../../services/channel.data-service\";\nimport {Channel} from \"../../models/channel.model\";\nimport {VideoService} from \"../../services/video.service\";\n\n@Component({\n  selector: 'app-video-list',\n  templateUrl: './video-list.component.html',\n  styleUrls: ['./video-list.component.scss']\n})\nexport class VideoListComponent implements OnInit, AfterContentInit, AfterViewInit {\n\n  list: Channel[] = [];\n  activeChannel!: Channel;\n  public showList = false;\n  intervalID: number = 0;\n  @HostListener('document:keydown', ['$event'])\n  onKeydownHandler(event: any) {\n\n/*    if (this.showList && this.intervalID == 0){\n      this.intervalID = setInterval(() => this.showList = false, 10000);\n    }*/\n\n    console.log('VideoListComponent onKeydownHandler', event.keyCode);\n    this.showList = false;\n\n    if (event.keyCode == 13){\n      console.log('VideoListComponent onKeydownHandler', 'enter');\n      this.showList = false;\n    }\n    if (event.keyCode == 38){\n      console.log('VideoListComponent onKeydownHandler', 'keyUp');\n      this.showList = true;\n    }\n    if (event.keyCode == 40){\n      console.log('VideoListComponent onKeydownHandler', 'keyDown');\n      this.showList = true;\n    }\n    if (event.keyCode == 37){\n      console.log('VideoListComponent onKeydownHandler', 'keyLeft');\n      this.showList = true;\n    }\n    if (event.keyCode == 39){\n      console.log('VideoListComponent onKeydownHandler', 'keyRight');\n      this.showList = true;\n      //setTimeout(() => this.showList = false, 10000);\n    }\n    if (event.keyCode == 49 && this.list.length > 0){\n      console.log('VideoListComponent onKeydownHandler', '1');\n       this.playIt(this.list[0]);\n    }\n    if (event.keyCode == 50 && this.list.length > 1){\n      console.log('VideoListComponent onKeydownHandler', '2');\n      this.playIt(this.list[1]);\n    }\n  }\n\n  constructor(\n    private channelDataService: ChannelDataService,\n    private videoService: VideoService,\n  ) {}\n\n  public ngOnInit() {\n    console.log('VideoListComponent ngOnInit');\n\n    this.channelDataService.all()\n      .subscribe((ELEMENT_DATA) => {\n        this.list = ELEMENT_DATA\n        this.showList = true;\n        //this.playIt(this.list[1]);\n      });\n  }\n\n  public playIt(channel: Channel): void {\n    console.log('VideoListComponent playIt');\n\n    this.videoService.setCurrentVideoByIndex(channel);\n    this.videoService.play();\n    this.activeChannel = channel;\n  }\n\n  ngAfterContentInit(): void {\n    console.log('VideoListComponent ngAfterContentInit');\n  }\n\n  ngAfterViewInit(): void {\n    console.log('VideoListComponent ngAfterViewInit');\n  }\n\n  public onfocus(channel: Channel): void {\n    console.log('VideoListComponent onfocus', channel.name);\n  }\n}\n","<div class=\"video-list\" *ngIf=\"showList\">\n  <h1>Channel List</h1>\n\n    <!--<div *cdkVirtualFor=\"let channel of list\" class=\"example-item\">{{channel.name}}</div>-->\n\n    <cdk-virtual-scroll-viewport appendOnly itemSize=\"1\" class=\"example-viewport\">\n      <mat-selection-list focus [multiple]=\"false\" tabindex=\"0\">\n    <mat-list-option (focus)=\"onfocus(channel)\" class=\"list-item\" *cdkVirtualFor=\"let channel of list\" [value]=\"channel\" (selectedChange)=\"playIt(channel)\"\n                     [ngClass]=\"{ active: (channel == activeChannel) }\">\n      {{channel.name}}\n    </mat-list-option>\n  </mat-selection-list>\n    </cdk-virtual-scroll-viewport>\n\n\n</div>\n","import {\n  Component,\n  ElementRef,\n  ViewChild,\n  OnInit\n} from '@angular/core';\n\nimport { VideoService } from 'src/app/services/video.service';\nimport Hls from \"hls.js\";\n\n@Component({\n  selector: 'app-video-wrapper',\n  templateUrl: './video-wrapper.component.html',\n  styleUrls: ['./video-wrapper.component.scss']\n})\nexport class VideoWrapperComponent implements OnInit {\n  public loading: boolean = false;\n  public ignore: boolean = false;\n  public playing: boolean = false;\n  private hls = new Hls();\n  private videoListeners = {\n    canplay: () => this.videoService.setLoading(false),\n    seeking: () => this.videoService.setLoading(true),\n  };\n\n  @ViewChild('myMedia', { static: true }) myMedia!: ElementRef<HTMLVideoElement>;\n\n  constructor(\n    private videoService: VideoService,\n    //private videoPlaylistService: VideoPlaylistService\n  ) {}\n\n  public ngOnInit() {\n    this.subscriptions();\n    Object.keys(this.videoListeners).forEach(\n      videoListener => console.log(videoListener) //this.video.nativeElement.addEventListener(videoListener, this.videoListeners[videoListener])\n    );\n\n    this.myMedia.nativeElement.addEventListener('canplay', this.videoListeners['canplay'])\n    this.myMedia.nativeElement.addEventListener('seeking', this.videoListeners['seeking'])\n\n  }\n\n  /** Play/Pause video on click */\n  public onVideoClick() {\n      if (this.playing) {\n        //this.videoService.pause();\n      } else {\n        this.videoService.play();\n      }\n  }\n\n  /** Go full screen on double click */\n  public onDoubleClick() {\n    if (document.fullscreenElement) {\n      document.exitFullscreen();\n    } else {\n      const videoPlayerDiv = document.querySelector('.video-player');\n      if (videoPlayerDiv && videoPlayerDiv.requestFullscreen) {\n        videoPlayerDiv.requestFullscreen();\n      }\n    }\n  }\n\n  /**\n   * Loads the video, if the browser supports HLS then the video use it, else play a video with native support\n   */\n  public load(currentVideo: string): void {\n    if (Hls.isSupported()) {\n      this.loadVideoWithHLS(currentVideo);\n    } else {\n      if (this.myMedia.nativeElement.canPlayType('application/vnd.apple.mpegurl')) {\n        this.loadVideo(currentVideo);\n      }\n    }\n  }\n\n  /**\n   * Play or Pause current video\n   */\n  private playPauseVideo(playing: boolean) {\n    this.playing = playing;\n    this.myMedia.nativeElement[playing ? 'play' : 'pause']();\n  }\n\n  /**\n   * Setup subscriptions\n   */\n  private subscriptions() {\n    this.videoService.playingState$.subscribe(playing => this.playPauseVideo(playing));\n    this.videoService.currentVideo$.subscribe(video => this.load(video));\n    this.videoService.loading$.subscribe(loading => (this.loading = loading));\n  }\n\n  /**\n   * Method that loads the video with HLS support\n   */\n  private loadVideoWithHLS(currentVideo: string) {\n    this.hls.loadSource(currentVideo);\n    this.hls.attachMedia(this.myMedia.nativeElement);\n    // this.hls.on(HLS.Events.MANIFEST_PARSED, () => this.video.nativeElement.play());\n  }\n\n  /**\n   * Method that loads the video without HLS support\n   */\n  private loadVideo(currentVideo: string) {\n    this.myMedia.nativeElement.src = currentVideo;\n  }\n}\n","<div class=\"video-wrapper\">\n  <video #myMedia class=\"video\" (click)=\"onVideoClick()\" (dblclick)=\"onDoubleClick()\"></video>\n  <mat-spinner *ngIf=\"loading\" class=\"spinner\" color=\"accent\" strokeWidth=\"5\"></mat-spinner>\n\n  <div class=\"content\">\n    <app-video-list class=\"list\"></app-video-list>\n  </div>\n</div>\n","import {Directive, ElementRef, Inject} from '@angular/core';\n\n@Directive({\n  selector: '[focus]',\n})\nexport class FocusDirective {\n  constructor(@Inject(ElementRef) private element: ElementRef) {\n    setTimeout(() => this.element.nativeElement.focus());\n  }\n}\n","import { Directive, ContentChildren, QueryList, AfterContentInit, HostListener } from '@angular/core';\nimport { FocusKeyManager } from '@angular/cdk/a11y';\nimport {NavigableListItemDirective} from \"./NavigableListItemDirective\";\n\n@Directive({\n  selector: '[appNavigableList]',\n})\nexport class NavigableListDirective implements AfterContentInit {\n\n  keyManager!:FocusKeyManager<NavigableListItemDirective>;\n\n  @HostListener('keydown', ['$event'])\n  manage(event: KeyboardEvent) {\n    console.log('onKeydownHandler', event.code);\n    this.keyManager.onKeydown(event);\n  }\n\n  @ContentChildren(NavigableListItemDirective, {descendants: true})\n  listItems!: QueryList<NavigableListItemDirective>;\n\n  constructor() {\n  }\n\n  ngAfterContentInit(){\n    // typing the first letter of an item will jump to the item. (based on optional label input)\n    this.keyManager = new FocusKeyManager<NavigableListItemDirective>(this.listItems).withWrap().withTypeAhead(300);\n    setTimeout(()=>{\n      this.listItems.first.tabIndex = 0;\n    })\n\n    // todo: subscribe to listItems changes\n    this.listItems.forEach((item, index)=>{\n      // TODO: unsub\n      item.selectedChange.subscribe(it => {\n        this.keyManager.setActiveItem(index);\n        this.listItems.forEach((otherItem, otherIndex)=>{\n          if (otherIndex != index) {\n            otherItem.selected = false;\n          }\n        })\n      })\n      item.focused.subscribe(_ => {\n        this.keyManager.setActiveItem(index);\n      })\n    })\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  HostBinding,\n  HostListener,\n  EventEmitter,\n  Output\n} from '@angular/core';\nimport { FocusableOption } from '@angular/cdk/a11y';\nimport {Channel} from \"../models/channel.model\";\n\n@Directive({\n  selector: '[appNavigableListItem]'\n})\nexport class NavigableListItemDirective implements FocusableOption {\n\n  /** The label which allows the user to jump to the list item by typing */\n  @Input('appNavigableListItem')\n  channel?: Channel;\n\n  disabled!: boolean;\n\n  /** Whether the item is currently selected or not. If it is selected, it will be tabbable */\n  @Input('navSelected')\n  get selected() {\n    return this._selected;\n  }\n  set selected(newValue: boolean) {\n    this._selected = newValue;\n    newValue ? this.tabIndex = 0 : this.tabIndex = -1;\n  }\n\n// Change name since it's not really two-way bindable.\n  /** Emits when an item is selected with mouse or keyboard */\n  @Output('navSelection')\n  selectedChange = new EventEmitter<void>()\n\n  /**\n   * @internal\n   * emits when the element is focused -\n   * only intended to be used by the container navigable list component.\n   */\n  @Output()\n  focused = new EventEmitter<void>()\n\n  /** @internal */\n  @HostBinding('tabindex')\n  tabIndex!:number;\n\n  private _selected = false;\n\n  constructor(private element: ElementRef) { }\n\n  @HostListener('focus', ['$event'])\n  focusEvent(event: FocusEvent) {\n    this.focused.emit();\n  }\n\n  @HostListener('keydown.enter', ['$event'])\n  @HostListener('keydown.space', ['$event'])\n  @HostListener('click', ['$event'])\n  manage(event: KeyboardEvent) {\n    this.selectedChange.emit();\n    this.selected = true;\n  }\n\n  getLabel(): string {\n    return <string>this.channel?.name;\n  }\n\n  /** called by the key manager when this item should become focused */\n  focus() {\n    (this.element.nativeElement as HTMLElement).focus();\n  }\n}\n","import {EntityMetadataMap} from '@ngrx/data';\n\nconst entityMetadata: EntityMetadataMap = {\n  Channel: {},\n};\n\n// because the plural of \"hero\" is not \"heros\"\nconst pluralNames = { Channel: 'Channels' };\n\nexport const entityConfig = {\n  entityMetadata,\n  pluralNames\n};\n","import {NgModule} from '@angular/core';\nimport {EntityDataService} from '@ngrx/data';\nimport {ChannelDataService} from \"./services/channel.data-service\";\n\n@NgModule({\n  providers: [\n    ChannelDataService\n  ]\n})\nexport class EntityStoreModule {\n  constructor(\n    entityDataService: EntityDataService,\n    channelDataService: ChannelDataService,\n  ) {\n    entityDataService.registerService('Channel', channelDataService);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport {\n  DefaultDataService,\n  HttpUrlGenerator,\n} from '@ngrx/data';\n\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport {Channel} from \"../models/channel.model\";\nimport {environment} from \"../../environments/environment\";\n\n@Injectable()\nexport class ChannelDataService extends DefaultDataService<Channel> {\n\n  httpClient: HttpClient;\n\n  constructor(httpClient: HttpClient, httpUrlGenerator: HttpUrlGenerator) {\n    super('Channel', httpClient, httpUrlGenerator);\n    this.httpClient = httpClient;\n  }\n\n  all(): Observable<Channel[]> {\n    return this.httpClient.get(`${environment.apiUrl}/api/v1/channel/list`)\n      .pipe(map((response: any) => {\n        return response;\n      }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Subject, Observable } from 'rxjs';\nimport {Channel} from \"../models/channel.model\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VideoService {\n  private playingState = new Subject<boolean>();\n  private loading = new BehaviorSubject<boolean>(true);\n  private videoEnded = new BehaviorSubject<boolean>(false);\n  private currentVideo = new BehaviorSubject<string>('');\n  public get loading$(): Observable<boolean> {\n    return this.loading.asObservable();\n  }\n\n  public setLoading(value: boolean): void {\n    this.loading.next(value);\n  }\n\n  public play(): void {\n    this.playingState.next(true);\n  }\n\n  public pause(): void {\n    this.playingState.next(false);\n  }\n\n  public get playingState$(): Observable<boolean> {\n    return this.playingState.asObservable();\n  }\n\n  public get videoEnded$(): Observable<boolean> {\n    return this.videoEnded.asObservable();\n  }\n\n  public setVideoEnded(value: boolean): void {\n    this.videoEnded.next(value);\n  }\n\n  public get currentVideo$(): Observable<string> {\n    return this.currentVideo.asObservable();\n  }\n\n  public setCurrentVideo(video: string): void {\n    if (this.currentVideo.getValue() !== video) {\n      this.currentVideo.next(video);\n      this.pause();\n    }\n  }\n\n  public setCurrentVideoByIndex(channel: Channel): void {\n    this.setCurrentVideo(channel.video_url);\n  }\n}\n","export const environment = {\n  production: false,\n  //apiUrl: 'http://mytv.dev.local',\n  apiUrl: 'https://moukafih.nl',\n};\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["AppComponent","constructor","title","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","BrowserModule","VideoWrapperComponent","VideoListComponent","MatProgressSpinnerModule","MatListModule","EntityStoreModule","EntityDataModule","StoreModule","entityConfig","HttpClientModule","NavigableListDirective","NavigableListItemDirective","A11yModule","FocusDirective","ScrollingModule","AppModule","bootstrap","forRoot","declarations","imports","i1","StoreRootModule","i2","ɵɵlistener","VideoListComponent_div_0_mat_list_option_5_Template_mat_list_option_focus_0_listener","restoredCtx","ɵɵrestoreView","_r4","channel_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","onfocus","VideoListComponent_div_0_mat_list_option_5_Template_mat_list_option_selectedChange_0_listener","ctx_r5","playIt","ɵɵtext","ɵɵproperty","ɵɵpureFunction1","_c0","ctx_r1","activeChannel","ɵɵadvance","ɵɵtextInterpolate1","name","ɵɵtemplate","VideoListComponent_div_0_mat_list_option_5_Template","ctx_r0","list","onKeydownHandler","event","console","log","keyCode","showList","length","channelDataService","videoService","intervalID","ngOnInit","all","subscribe","ELEMENT_DATA","channel","setCurrentVideoByIndex","play","ngAfterContentInit","ngAfterViewInit","ɵɵdirectiveInject","ChannelDataService","VideoService","hostBindings","VideoListComponent_HostBindings","$event","ɵɵresolveDocument","VideoListComponent_div_0_Template","Hls","loading","ignore","playing","hls","videoListeners","canplay","setLoading","seeking","subscriptions","Object","keys","forEach","videoListener","myMedia","nativeElement","addEventListener","onVideoClick","onDoubleClick","document","fullscreenElement","exitFullscreen","videoPlayerDiv","querySelector","requestFullscreen","load","currentVideo","isSupported","loadVideoWithHLS","canPlayType","loadVideo","playPauseVideo","playingState$","currentVideo$","video","loading$","loadSource","attachMedia","src","viewQuery","VideoWrapperComponent_Query","VideoWrapperComponent_Template_video_click_1_listener","VideoWrapperComponent_Template_video_dblclick_1_listener","VideoWrapperComponent_mat_spinner_3_Template","ElementRef","element","setTimeout","focus","FocusKeyManager","manage","code","keyManager","onKeydown","listItems","withWrap","withTypeAhead","first","tabIndex","item","index","selectedChange","it","setActiveItem","otherItem","otherIndex","selected","focused","_","contentQueries","NavigableListDirective_ContentQueries","dirIndex","EventEmitter","_selected","newValue","focusEvent","emit","getLabel","hostVars","NavigableListItemDirective_HostBindings","NavigableListItemDirective_keydown_enter_HostBindingHandler","NavigableListItemDirective_keydown_space_HostBindingHandler","NavigableListItemDirective_click_HostBindingHandler","entityMetadata","Channel","pluralNames","entityDataService","registerService","ɵɵinject","EntityDataService","DefaultDataService","map","environment","httpClient","httpUrlGenerator","get","apiUrl","pipe","response","HttpClient","HttpUrlGenerator","factory","ɵfac","BehaviorSubject","Subject","playingState","videoEnded","asObservable","value","next","pause","videoEnded$","setVideoEnded","setCurrentVideo","getValue","video_url","providedIn","production","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","error"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}